package bills

import (
	"encoding/json"
	"fmt"
	"io/ioutil"
	"os"
	"path"
	"strings"

	"github.com/rs/zerolog/log"
	bh "github.com/timshannon/badgerhold"
)

// Update the 'related bills' list in BillJSON. For example, this is used to add similarity data to the bill json.
// {"116s149": [{"date": null, "score": 28.549557, "title": "116 S149 ES: Stop Senior Scams Act", "session": "2", "congress": "", "legisnum": "S. 149", "billnumber": "116s149", "section_num": "2. ", "section_header": "Senior Scams Prevention Advisory Group", "bill_number_version": "116s149es"}, {"date": "2019-01-16", "score": 27.4337, "title": "116 S149 IS: Stop Senior Scams Act", "session": "1", "congress": "", "legisnum": "S. 149", "billnumber": "116s149", "section_num": "2. ", "sectionIndex": "15", "section_header": "Senior Scams Prevention Advisory Council", "bill_number_version": "116s149is", "target_section_header": "Report on senior consumers", "target_section_number": "16."}], "116s331": [{"date": "2019-02-05", "score": 32.758568, "title": "116 S331 IS: Home Loan Quality Transparency Act of 2019", "session": "1", "congress": "", "legisnum": "S. 331", "billnumber": "116s331", "section_num": "2. ", "sectionIndex": "8", "section_header": "Exemption from certain disclosure requirements", "bill_number_version": "116s331is", "target_section_header": "Modification of the exemption from certain disclosure requirements", "target_section_number": "9."}], "116s530": [{"date": "2019-02-14", "score": 28.841703, "title": "116 S530 IS: Federal Labor-Management Partnership Act of 2019", "session": "1", "congress": "", "legisnum": "S. 530", "billnumber": "116s530", "section_num": "7107. ", "sectionIndex": "6", "section_header": "Federal Labor-Management Partnership Council", "bill_number_version": "116s530is", "target_section_header": "Consumer Advisory Board reforms", "target_section_number": "7."}], "116s702": [{"date": "2019-03-07", "score": 27.876045, "title": "116 S702 IS: Senior and Disability Home Modification Assistance Initiative Act", "session": "1", "congress": "", "legisnum": "S. 702", "billnumber": "116s702", "section_num": "2. ", "sectionIndex": "15", "section_header": "Senior home modification assistance initiative", "bill_number_version": "116s702is", "target_section_header": "Report on senior consumers", "target_section_number": "16."}], "116s720": [{"date": "2019-03-07", "score": 58.614845, "title": "116 S720 IS: CFPB Student Loan Integrity and Transparency Act of 2019", "session": "1", "congress": "", "legisnum": "S. 720", "billnumber": "116s720", "section_num": "5. ", "section_header": "Duty to provide adequate staffing; Memoranda of understanding", "bill_number_version": "116s720is"}, {"date": "2019-03-07", "score": 48.181686, "title": "116 S720 IS: CFPB Student Loan Integrity and Transparency Act of 2019", "session": "1", "congress": "", "legisnum": "S. 720", "billnumber": "116s720", "section_num": "2. ", "sectionIndex": "5", "section_header": "Findings", "bill_number_version": "116s720is", "target_section_header": "Offices of the Consumer Financial Protection Bureau", "target_section_number": "6."}], "116s905": [{"date": "2019-03-27", "score": 26.486202, "title": "116 S905 IS: Senior Legal Hotline Act of 2019", "session": "1", "congress": "", "legisnum": "S. 905", "billnumber": "116s905", "section_num": "2. ", "sectionIndex": "15", "section_header": "Statewide senior legal hotlines", "bill_number_version": "116s905is", "target_section_header": "Report on senior consumers", "target_section_number": "16."}], "117s280": [{"date": "2021-02-08", "score": 27.866482, "title": "117 S280 IS: FEMA Climate Change Preparedness Act", "session": "1", "congress": "", "legisnum": "S. 280", "billnumber": "117s280", "section_num": "7. ", "sectionIndex": "6", "section_header": "National Advisory Council Climate Change Subcommittee", "bill_number_version": "117s280is", "target_section_header": "Consumer Advisory Board reforms", "target_section_number": "7."}], "117s337": [{"date": "2021-02-22", "score": 28.551903, "title": "117 S337 IS: Stop Senior Scams Act", "session": "1", "congress": "", "legisnum": "S. 337", "billnumber": "117s337", "section_num": "2. ", "section_header": "Senior Scams Prevention Advisory Group", "bill_number_version": "117s337is"}], "117s523": [{"date": "2021-03-02", "score": 36.489025, "title": "117 S523 IS: To repeal the Office of Financial Research, and for other purposes.", "session": "1", "congress": "", "legisnum": "S. 523", "billnumber": "117s523", "section_num": "1. ", "section_header": "Repeal of the Office of Financial Research", "bill_number_version": "117s523is"}], "117s766": [{"date": "2021-03-16", "score": 38.103077, "title": "117 S766 IS: End Double Taxation of Successful Consumer Claims Act", "session": "1", "congress": "", "legisnum": "S. 766", "billnumber": "117s766", "section_num": "2. ", "sectionIndex": "3", "section_header": "Above-the-line deduction for attorney fees and costs in connection with consumer claim awards", "bill_number_version": "117s766is", "target_section_header": "Conforming amendments", "target_section_number": "4."}], "117s767": [{"date": "2021-03-16", "score": 32.758568, "title": "117 S767 IS: Home Loan Quality Transparency Act of 2021", "session": "1", "congress": "", "legisnum": "S. 767", "billnumber": "117s767", "section_num": "2. ", "sectionIndex": "8", "section_header": "Exemption from certain disclosure requirements", "bill_number_version": "117s767is", "target_section_header": "Modification of the exemption from certain disclosure requirements", "target_section_number": "9."}], "117s995": [{"date": "2021-03-25", "score": 38.591763, "title": "117 S995 IS: Stop Student Debt Relief Scams Technical Corrections Act", "session": "1", "congress": "", "legisnum": "S. 995", "billnumber": "117s995", "section_num": "3. ", "sectionIndex": "5", "section_header": "Requirements for third-party data system access", "bill_number_version": "117s995is", "target_section_header": "Offices of the Consumer Financial Protection Bureau", "target_section_number": "6."}], "116hr281": [{"date": "2019-01-08", "score": 40.576157, "title": "116 HR 281 IH: Ensuring Diverse Leadership Act of 2019", "session": "1", "congress": "", "legisnum": "H. R. 281", "billnumber": "116hr281", "section_num": "4. ", "sectionIndex": "3", "section_header": "Technical adjustments", "bill_number_version": "116hr281ih", "target_section_header": "Conforming amendments", "target_section_number": "4."}], "116hr442": [{"date": "2019-01-10", "score": 32.82602, "title": "116 HR 442 IH: Financial Protection for Our Military Families Act", "session": "1", "congress": "", "legisnum": "H. R. 442", "billnumber": "116hr442", "section_num": "2. ", "sectionIndex": "3", "section_header": "Bureau examination authority with respect to Military Lending Act compliance", "bill_number_version": "116hr442ih", "target_section_header": "Conforming amendments", "target_section_number": "4."}], "116hr963": [{"date": "2019-02-05", "score": 32.758568, "title": "116 HR 963 IH: Home Loan Quality Transparency Act of 2019", "session": "1", "congress": "", "legisnum": "H. R. 963", "billnumber": "116hr963", "section_num": "2. ", "sectionIndex": "8", "section_header": "Exemption from certain disclosure requirements", "bill_number_version": "116hr963ih", "target_section_header": "Modification of the exemption from certain disclosure requirements", "target_section_number": "9."}], "116s1066": [{"date": "2019-04-08", "score": 33.61019, "title": "116 S1066 IS: An Act Targeting Resources to Communities in Need", "session": "1", "congress": "", "legisnum": "S. 1066", "billnumber": "116s1066", "section_num": "2. ", "sectionIndex": "3", "section_header": "Definitions", "bill_number_version": "116s1066is", "target_section_header": "Conforming amendments", "target_section_number": "4."}], "116s1354": [{"date": "2019-05-07", "score": 51.73246, "title": "116 S1354 IS: Student Loan Borrower Bill of Rights", "session": "1", "congress": "", "legisnum": "S. 1354", "billnumber": "116s1354", "section_num": "8. ", "sectionIndex": "5", "section_header": "Education loan ombudsman", "bill_number_version": "116s1354is", "target_section_header": "Offices of the Consumer Financial Protection Bureau", "target_section_number": "6."}], "116s1478": [{"date": "2019-05-15", "score": 36.489025, "title": "116 S1478 IS: To repeal the Office of Financial Research, and for other purposes.", "session": "1", "congress": "", "legisnum": "S. 1478", "billnumber": "116s1478", "section_num": "1. ", "section_header": "Repeal of the Office of Financial Research", "bill_number_version": "116s1478is"}], "116s1753": [{"date": "2019-06-05", "score": 36.020535, "title": "116 S1753 IS: Take Care Act", "session": "1", "congress": "", "legisnum": "S. 1753", "billnumber": "116s1753", "section_num": "6. ", "sectionIndex": "3", "section_header": "Repeal and amendment of certain other provisions of law", "bill_number_version": "116s1753is", "target_section_header": "Conforming amendments", "target_section_number": "4."}], "116s1803": [{"date": "2019-06-12", "score": 29.204527, "title": "116 S1803 IS: Educational Opportunity and Success Act of 2019", "session": "1", "congress": "", "legisnum": "S. 1803", "billnumber": "116s1803", "section_num": "2. ", "sectionIndex": "14", "section_header": "Federal TRIO programs amendments", "bill_number_version": "116s1803is", "target_section_header": "Credit scores included in free annual disclosures", "target_section_number": "15."}], "116s2201": [{"date": "2019-07-22", "score": 33.086617, "title": "116 S2201 IS: Clarifying Law Around Insurance of Marijuana Act", "session": "1", "congress": "", "legisnum": "S. 2201", "billnumber": "116s2201", "section_num": "2. ", "section_header": "Safe harbor for insurers and the business of insurance", "bill_number_version": "116s2201is"}], "116s2685": [{"date": "2019-10-23", "score": 32.346863, "title": "116 S2685 IS: Consumer Credit Control Act of 2019", "session": "1", "congress": "", "legisnum": "S. 2685", "billnumber": "116s2685", "section_num": "2. ", "sectionIndex": "14", "section_header": "Permissible purposes of reports", "bill_number_version": "116s2685is", "target_section_header": "Credit scores included in free annual disclosures", "target_section_number": "15."}], "116s2833": [{"date": "2019-11-12", "score": 38.15294, "title": "116 S2833 IS: Veterans and Consumers Fair Credit Act", "session": "1", "congress": "", "legisnum": "S. 2833", "billnumber": "116s2833", "section_num": "2. ", "section_header": "Limitations on consumer credit and maximum rates of interest", "bill_number_version": "116s2833is"}], "116s3036": [{"date": "2019-12-12", "score": 28.113443, "title": "116 S3036 IS: Unsolicited Loan Act of 2019", "session": "1", "congress": "", "legisnum": "S. 3036", "billnumber": "116s3036", "section_num": "2. ", "sectionIndex": "14", "section_header": "Unsolicited loan checks prohibited", "bill_number_version": "116s3036is", "target_section_header": "Credit scores included in free annual disclosures", "target_section_number": "15."}], "116s3160": [{"date": "2020-01-08", "score": 26.603827, "title": "116 S3160 IS: Affordable Safe Drinking Water Act of 2020", "session": "2", "congress": "", "legisnum": "S. 3160", "billnumber": "116s3160", "section_num": "2. ", "sectionIndex": "16", "section_header": "State revolving funds", "bill_number_version": "116s3160is", "target_section_header": "Report on payday loan and car-title loan investigations and enforcement actions", "target_section_number": "17."}], "116s3166": [{"date": "2020-01-08", "score": 41.43064, "title": "116 S3166 IS: Prescription Drug Affordability and Access Act", "session": "2", "congress": "", "legisnum": "S. 3166", "billnumber": "116s3166", "section_num": "2. ", "sectionIndex": "6", "section_header": "Establishment of the Bureau of Prescription Drug Affordability and Access", "bill_number_version": "116s3166is", "target_section_header": "Consumer Advisory Board reforms", "target_section_number": "7."}], "116s3204": [{"date": "2020-01-16", "score": 27.866293, "title": "116 S3204 IS: FEMA Climate Change Preparedness Act", "session": "2", "congress": "", "legisnum": "S. 3204", "billnumber": "116s3204", "section_num": "7. ", "sectionIndex": "6", "section_header": "National Advisory Council Climate Change Subcommittee", "bill_number_version": "116s3204is", "target_section_header": "Consumer Advisory Board reforms", "target_section_number": "7."}], "116s3360": [{"date": "2020-02-27", "score": 27.807856, "title": "116 S3360 IS: National Center for the Advancement of Aviation Act of 2020", "session": "2", "congress": "", "legisnum": "S. 3360", "billnumber": "116s3360", "section_num": "2. ", "sectionIndex": "6", "section_header": "Federal Charter for the National Center for the Advancement of Aviation", "bill_number_version": "116s3360is", "target_section_header": "Consumer Advisory Board reforms", "target_section_number": "7."}], "116s3368": [{"date": "2020-03-02", "score": 41.1039, "title": "116 S3368 IS: CFPB Pay Fairness Act of 2020", "session": "2", "congress": "", "legisnum": "S. 3368", "billnumber": "116s3368", "section_num": "2. ", "section_header": "Rate of pay for employees of the Consumer Financial Protection Bureau", "bill_number_version": "116s3368is"}], "116s3508": [{"date": "2020-03-17", "score": 44.32155, "title": "116 S3508 IS: Disaster Protection for Workers’ Credit Act of 2020", "session": "2", "congress": "", "legisnum": "S. 3508", "billnumber": "116s3508", "section_num": "3. ", "sectionIndex": "14", "section_header": "Reporting of information during major disasters", "bill_number_version": "116s3508is", "target_section_header": "Credit scores included in free annual disclosures", "target_section_number": "15."}], "116s3560": [{"date": "2020-03-22", "score": 37.84255, "title": "116 S3560 IS: Small Business and Consumer Emergency Credit Act", "session": "2", "congress": "", "legisnum": "S. 3560", "billnumber": "116s3560", "section_num": "2. ", "sectionIndex": "13", "section_header": "Limitations on consumer credit and maximum rates of interest", "bill_number_version": "116s3560is", "target_section_header": "Debt collection", "target_section_number": "14."}], "116s3913": [{"date": "2020-06-08", "score": 38.103077, "title": "116 S3913 IS: End Double Taxation of Successful Consumer Claims Act", "session": "2", "congress": "", "legisnum": "S. 3913", "billnumber": "116s3913", "section_num": "2. ", "sectionIndex": "3", "section_header": "Above-the-line deduction for attorney fees and costs in connection with consumer claim awards", "bill_number_version": "116s3913is", "target_section_header": "Conforming amendments", "target_section_number": "4."}], "116s3990": [{"date": "2020-06-17", "score": 50.842983, "title": "116 S3990 IS: Financial Product Safety Commission Act of 2020", "session": "2", "congress": "", "legisnum": "S. 3990", "billnumber": "116s3990", "section_num": "3. ", "sectionIndex": "2", "section_header": "Deeming of name", "bill_number_version": "116s3990is", "target_section_header": "Consumer Financial Protection Bureau", "target_section_number": "3."}, {"date": "2020-06-17", "score": 51.267357, "title": "116 S3990 IS: Financial Product Safety Commission Act of 2020", "session": "2", "congress": "", "legisnum": "S. 3990", "billnumber": "116s3990", "section_num": "4. ", "sectionIndex": "3", "section_header": "Conforming amendments", "bill_number_version": "116s3990is", "target_section_header": "Conforming amendments", "target_section_number": "4."}], "116s4037": [{"date": "2020-06-23", "score": 36.18945, "title": "116 S4037 IS: Patient Credit Protection Act of 2020", "session": "2", "congress": "", "legisnum": "S. 4037", "billnumber": "116s4037", "section_num": "2. ", "sectionIndex": "13", "section_header": "Credit protection for patients", "bill_number_version": "116s4037is", "target_section_header": "Debt collection", "target_section_number": "14."}], "116s4325": [{"date": "2020-07-27", "score": 34.399593, "title": "116 S4325 IS: Business of Insurance Regulatory Reform Act of 2020", "session": "2", "congress": "", "legisnum": "S. 4325", "billnumber": "116s4325", "section_num": "2. ", "section_header": "Clarification to the authority of the Bureau with respect to persons regulated by a State insurance regulator", "bill_number_version": "116s4325is"}], "116s4393": [{"date": "2020-07-30", "score": 28.92632, "title": "112 S4393 IS: Toxic Exposure in the American Military Act of 2020", "session": "2", "congress": "", "legisnum": "S. 4393", "billnumber": "116s4393", "section_num": "547. ", "sectionIndex": "6", "section_header": "Toxic Exposure Review Commission", "bill_number_version": "116s4393is", "target_section_header": "Consumer Advisory Board reforms", "target_section_number": "7."}], "116s4464": [{"date": "2020-08-06", "score": 32.43327, "title": "116 S4464 IS: Federal Reserve Racial and Economic Equity Act", "session": "2", "congress": "", "legisnum": "S. 4464", "billnumber": "116s4464", "section_num": "2C. ", "sectionIndex": "1", "section_header": "Duty to minimize and eliminate racial disparities", "bill_number_version": "116s4464is", "target_section_header": "Findings; sense of Congress", "target_section_number": "2."}], "116s4614": [{"date": "2020-09-17", "score": 27.299881, "title": "116 S4614 IS: Postal Banking Act", "session": "2", "congress": "", "legisnum": "S. 4614", "billnumber": "116s4614", "section_num": "2. ", "sectionIndex": "16", "section_header": "Authority for the Postal Service to offer certain financial services", "bill_number_version": "116s4614is", "target_section_header": "Report on payday loan and car-title loan investigations and enforcement actions", "target_section_number": "17."}], "116s4692": [{"date": "2020-09-24", "score": 39.393703, "title": "116 S4692 IS: Give Useful Information to Define Effective Compliance Act", "session": "2", "congress": "", "legisnum": "S. 4692", "billnumber": "116s4692", "section_num": "2. ", "sectionIndex": "4", "section_header": "Procedures for Bureau guidance", "bill_number_version": "116s4692is", "target_section_header": "Executive and administration powers", "target_section_number": "5."}], "116s4697": [{"date": "2020-09-24", "score": 42.29507, "title": "116 S4697 IS: Strengthening Consumer Protections and Medical Debt Transparency Act", "session": "2", "congress": "", "legisnum": "S. 4697", "billnumber": "116s4697", "section_num": "2. ", "sectionIndex": "13", "section_header": "Medical debt collections", "bill_number_version": "116s4697is", "target_section_header": "Debt collection", "target_section_number": "14."}], "117hr527": [{"date": "2021-01-28", "score": 41.28798, "title": "117 HR 527 IH: CFPB Dual Mandate and Economic Analysis Act", "session": "1", "congress": "", "legisnum": "H. R. 527", "billnumber": "117hr527", "section_num": "3. ", "section_header": "Office of Economic Analysis", "bill_number_version": "117hr527ih"}], "117hr744": [{"date": "2021-02-03", "score": 27.8658, "title": "117 HR 744 IH: FEMA Climate Change Preparedness Act", "session": "1", "congress": "", "legisnum": "H. R. 744", "billnumber": "117hr744", "section_num": "6. ", "sectionIndex": "6", "section_header": "National Advisory Council Climate Change Subcommittee", "bill_number_version": "117hr744ih", "target_section_header": "Consumer Advisory Board reforms", "target_section_number": "7."}], "117hr745": [{"date": "2021-02-03", "score": 99.53913, "title": "117 HR 745 IH: Fair Access to Credit Scores Act of 2021", "session": "1", "congress": "", "legisnum": "H. R. 745", "billnumber": "117hr745", "section_num": "2. ", "sectionIndex": "14", "section_header": "Credit scores included in free annual disclosures", "bill_number_version": "117hr745ih", "target_section_header": "Credit scores included in free annual disclosures", "target_section_number": "15."}], "116hr1285": [{"date": "2019-02-14", "score": 35.070103, "title": "116 HR 1285 IH: Improving Access to Traditional Banking Act of 2019", "session": "1", "congress": "", "legisnum": "H. R. 1285", "billnumber": "116hr1285", "section_num": "2. ", "section_header": "Office for Under-Banked, Un-Banked, and Underserved Consumers", "bill_number_version": "116hr1285ih"}], "116hr1286": [{"date": "2019-02-14", "score": 36.175568, "title": "116 HR 1286 IH: Federal Employee Credit Score Protection Act of 2019", "session": "1", "congress": "", "legisnum": "H. R. 1286", "billnumber": "116hr1286", "section_num": "2. ", "sectionIndex": "14", "section_header": "Prohibition on lowering the credit scores of covered individuals", "bill_number_version": "116hr1286ih", "target_section_header": "Credit scores included in free annual disclosures", "target_section_number": "15."}], "116hr1316": [{"date": "2019-02-22", "score": 28.841703, "title": "116 HR 1316 IH: Federal Labor-Management Partnership Act of 2019", "session": "1", "congress": "", "legisnum": "H. R. 1316", "billnumber": "116hr1316", "section_num": "7107. ", "sectionIndex": "6", "section_header": "Federal Labor-Management Partnership Council", "bill_number_version": "116hr1316ih", "target_section_header": "Consumer Advisory Board reforms", "target_section_number": "7."}], "116hr1500": [{"date": "2019-05-23", "score": 86.45944, "title": "116 HR 1500 : Consumers First Act", "session": "1", "congress": "", "legisnum": "H. R. 1500", "billnumber": "116hr1500", "section_num": "1. ", "sectionIndex": "0", "section_header": "Short title; table of contents", "bill_number_version": "116hr1500rfs", "target_section_header": "Short title; table of contents", "target_section_number": "1."}, {"date": "2019-03-05", "score": 101.98373, "title": "116 HR 1500 RH: Consumers First Act", "session": "1", "congress": "", "legisnum": "H. R. 1500", "billnumber": "116hr1500", "section_num": "2. ", "sectionIndex": "1", "section_header": "Findings; sense of Congress", "bill_number_version": "116hr1500rh", "target_section_header": "Findings; sense of Congress", "target_section_number": "2."}, {"date": "2019-03-05", "score": 63.81525, "title": "116 HR 1500 RH: Consumers First Act", "session": "1", "congress": "", "legisnum": "H. R. 1500", "billnumber": "116hr1500", "section_num": "3. ", "sectionIndex": "2", "section_header": "Consumer Financial Protection Bureau", "bill_number_version": "116hr1500rh", "target_section_header": "Consumer Financial Protection Bureau", "target_section_number": "3."}, {"date": "2019-03-05", "score": 79.96827, "title": "116 HR 1500 RH: Consumers First Act", "session": "1", "congress": "", "legisnum": "H. R. 1500", "billnumber": "116hr1500", "section_num": "4. ", "sectionIndex": "3", "section_header": "Conforming amendments", "bill_number_version": "116hr1500rh", "target_section_header": "Conforming amendments", "target_section_number": "4."}, {"date": "2019-03-05", "score": 89.7125, "title": "116 HR 1500 RH: Consumers First Act", "session": "1", "congress": "", "legisnum": "H. R. 1500", "billnumber": "116hr1500", "section_num": "5. ", "sectionIndex": "4", "section_header": "Executive and administration powers", "bill_number_version": "116hr1500rh", "target_section_header": "Executive and administration powers", "target_section_number": "5."}, {"date": null, "score": 96.01108, "title": "116 HR 1500 EH: Consumers First Act", "session": "1", "congress": "", "legisnum": "H. R. 1500", "billnumber": "116hr1500", "section_num": "6. ", "sectionIndex": "5", "section_header": "Offices of the Consumer Financial Protection Bureau", "bill_number_version": "116hr1500eh", "target_section_header": "Offices of the Consumer Financial Protection Bureau", "target_section_number": "6."}, {"date": "2019-03-05", "score": 102.48885, "title": "116 HR 1500 RH: Consumers First Act", "session": "1", "congress": "", "legisnum": "H. R. 1500", "billnumber": "116hr1500", "section_num": "7. ", "sectionIndex": "6", "section_header": "Consumer Advisory Board reforms", "bill_number_version": "116hr1500rh", "target_section_header": "Consumer Advisory Board reforms", "target_section_number": "7."}, {"date": null, "score": 65.29153, "title": "116 HR 1500 EH: Consumers First Act", "session": "1", "congress": "", "legisnum": "H. R. 1500", "billnumber": "116hr1500", "section_num": "14. ", "sectionIndex": "13", "section_header": "Debt collection", "bill_number_version": "116hr1500eh", "target_section_header": "Debt collection", "target_section_number": "14."}], "116hr1555": [{"date": "2019-03-06", "score": 30.652859, "title": "116 HR 1555 IH: Transparency for Cable Consumers Act", "session": "1", "congress": "", "legisnum": "H. R. 1555", "billnumber": "116hr1555", "section_num": "2. ", "sectionIndex": "16", "section_header": "FCC reporting requirement for cable operators and internet service providers who are subject to State fines", "bill_number_version": "116hr1555ih", "target_section_header": "Report on payday loan and car-title loan investigations and enforcement actions", "target_section_number": "17."}], "116hr1583": [{"date": "2019-03-07", "score": 27.876045, "title": "116 HR 1583 IH: Senior and Disability Home Modification Assistance Initiative Act", "session": "1", "congress": "", "legisnum": "H. R. 1583", "billnumber": "116hr1583", "section_num": "2. ", "sectionIndex": "15", "section_header": "Senior home modification assistance initiative", "bill_number_version": "116hr1583ih", "target_section_header": "Report on senior consumers", "target_section_number": "16."}], "116hr1756": [{"date": "2019-03-14", "score": 34.848106, "title": "116 HR 1756 IH: Preventing Credit Score Discrimination in Auto Insurance Act", "session": "1", "congress": "", "legisnum": "H. R. 1756", "billnumber": "116hr1756", "section_num": "2. ", "sectionIndex": "14", "section_header": "Use of consumer reports and consumer information for auto insurance purposes prohibited", "bill_number_version": "116hr1756ih", "target_section_header": "Credit scores included in free annual disclosures", "target_section_number": "15."}], "116hr2743": [{"date": "2019-05-15", "score": 36.489025, "title": "116 HR 2743 IH: To repeal the Office of Financial Research, and for other purposes.", "session": "1", "congress": "", "legisnum": "H. R. 2743", "billnumber": "116hr2743", "section_num": "1. ", "section_header": "Repeal of the Office of Financial Research", "bill_number_version": "116hr2743ih"}], "116hr2753": [{"date": "2019-05-15", "score": 42.37965, "title": "116 HR 2753 IH: Free Credit Score Act of 2019", "session": "1", "congress": "", "legisnum": "H. R. 2753", "billnumber": "116hr2753", "section_num": "2. ", "sectionIndex": "14", "section_header": "Inclusion of credit score with free annual report", "bill_number_version": "116hr2753ih", "target_section_header": "Credit scores included in free annual disclosures", "target_section_number": "15."}], "116hr2824": [{"date": "2019-05-17", "score": 90.67494, "title": "116 HR 2824 IH: Fair Access to Credit Scores Act of 2019", "session": "1", "congress": "", "legisnum": "H. R. 2824", "billnumber": "116hr2824", "section_num": "2. ", "sectionIndex": "14", "section_header": "Credit scores included in free annual disclosures", "bill_number_version": "116hr2824ih", "target_section_header": "Credit scores included in free annual disclosures", "target_section_number": "15."}], "116hr2833": [{"date": "2019-05-17", "score": 58.614845, "title": "116 HR 2833 IH: CFPB Student Loan Integrity and Transparency Act of 2019", "session": "1", "congress": "", "legisnum": "H. R. 2833", "billnumber": "116hr2833", "section_num": "5. ", "section_header": "Duty to provide adequate staffing; Memoranda of understanding", "bill_number_version": "116hr2833ih"}, {"date": "2019-05-17", "score": 50.359375, "title": "116 HR 2833 IH: CFPB Student Loan Integrity and Transparency Act of 2019", "session": "1", "congress": "", "legisnum": "H. R. 2833", "billnumber": "116hr2833", "section_num": "2. ", "sectionIndex": "5", "section_header": "Findings", "bill_number_version": "116hr2833ih", "target_section_header": "Offices of the Consumer Financial Protection Bureau", "target_section_number": "6."}], "116hr3111": [{"date": "2019-06-05", "score": 31.422295, "title": "116 HR 3111 IH: National Flood Insurance Program Administrative Reform Act of 2019", "session": "1", "congress": "", "legisnum": "H. R. 3111", "billnumber": "116hr3111", "section_num": "12. ", "sectionIndex": "6", "section_header": "Federal Flood Insurance Advisory Committee", "bill_number_version": "116hr3111ih", "target_section_header": "Consumer Advisory Board reforms", "target_section_number": "7."}], "116hr3420": [{"date": "2019-06-21", "score": 27.343752, "title": "116 HR 3420 IH: Federal Law Enforcement and Public Protection Act", "session": "1", "congress": "", "legisnum": "H. R. 3420", "billnumber": "116hr3420", "section_num": "3064. ", "sectionIndex": "1", "section_header": "Safety and security of service weapons used by Federal law enforcement officers", "bill_number_version": "116hr3420ih", "target_section_header": "Findings; sense of Congress", "target_section_number": "2."}], "116hr3547": [{"date": "2019-06-27", "score": 67.115456, "title": "116 HR 3547 IH: Students and Young Consumers Empowerment Act", "session": "1", "congress": "", "legisnum": "H. R. 3547", "billnumber": "116hr3547", "section_num": "2. ", "section_header": "Assistant Director and Student Loan Borrower Advocate", "bill_number_version": "116hr3547ih"}], "116hr3614": [{"date": "2019-07-02", "score": 34.83944, "title": "116 HR 3614 RH: Restricting Credit Checks for Employment Decisions Act", "session": "1", "congress": "", "legisnum": "H. R. 3614", "billnumber": "116hr3614", "section_num": "3. ", "sectionIndex": "14", "section_header": "Prohibition on the use of credit information for most employment decisions", "bill_number_version": "116hr3614rh", "target_section_header": "Credit scores included in free annual disclosures", "target_section_number": "15."}], "116hr3618": [{"date": "2019-07-05", "score": 66.01652, "title": "116 HR 3618 IH: Free Credit Scores for Consumers Act of 2019", "session": "1", "congress": "", "legisnum": "H. R. 3618", "billnumber": "116hr3618", "section_num": "3. ", "sectionIndex": "14", "section_header": "Credit score and educational credit score definitions", "bill_number_version": "116hr3618ih", "target_section_header": "Credit scores included in free annual disclosures", "target_section_number": "15."}], "116hr3621": [{"date": null, "score": 65.945206, "title": "116 HR 3621 : Comprehensive CREDIT Act of 2020", "session": "2", "congress": "", "legisnum": "H. R. 3621", "billnumber": "116hr3621", "section_num": "201. ", "sectionIndex": "14", "section_header": "Definitions", "bill_number_version": "116hr3621rds", "target_section_header": "Credit scores included in free annual disclosures", "target_section_number": "15."}], "116hr3642": [{"date": "2019-07-09", "score": 50.913296, "title": "116 HR 3642 RH: Improving Credit Reporting for All Consumers Act", "session": "1", "congress": "", "legisnum": "H. R. 3642", "billnumber": "116hr3642", "section_num": "101. ", "sectionIndex": "14", "section_header": "Dispute procedures and disclosures relating to reinvestigations", "bill_number_version": "116hr3642rh", "target_section_header": "Credit scores included in free annual disclosures", "target_section_number": "15."}], "116hr3800": [{"date": "2019-07-17", "score": 29.204527, "title": "116 HR 3800 IH: Educational Opportunity and Success Act of 2019", "session": "1", "congress": "", "legisnum": "H. R. 3800", "billnumber": "116hr3800", "section_num": "2. ", "sectionIndex": "14", "section_header": "Federal TRIO programs amendments", "bill_number_version": "116hr3800ih", "target_section_header": "Credit scores included in free annual disclosures", "target_section_number": "15."}], "116hr3862": [{"date": "2019-07-19", "score": 32.369316, "title": "116 HR 3862 IH: Equal Employment for All Act of 2019", "session": "1", "congress": "", "legisnum": "H. R. 3862", "billnumber": "116hr3862", "section_num": "2. ", "sectionIndex": "14", "section_header": "Use of credit checks prohibited for employment purposes", "bill_number_version": "116hr3862ih", "target_section_header": "Credit scores included in free annual disclosures", "target_section_number": "15."}], "116hr3987": [{"date": "2019-07-25", "score": 27.995213, "title": "116 HR 3987 IH: Alleviating Stress Test Burdens to Help Investors Act", "session": "1", "congress": "", "legisnum": "H. R. 3987", "billnumber": "116hr3987", "section_num": "2. ", "sectionIndex": "1", "section_header": "Stress test relief for nonbanks", "bill_number_version": "116hr3987ih", "target_section_header": "Findings; sense of Congress", "target_section_number": "2."}], "116hr4067": [{"date": "2019-07-25", "score": 41.341602, "title": "116 HR 4067 IH: Financial Inclusion in Banking Act of 2019", "session": "1", "congress": "", "legisnum": "H. R. 4067", "billnumber": "116hr4067", "section_num": "2. ", "section_header": "Office of Community Affairs duties with respect to under-banked, un-banked, and underserved consumers", "bill_number_version": "116hr4067ih"}], "116hr4074": [{"date": "2019-07-25", "score": 33.086617, "title": "116 HR 4074 IH: Clarifying Law Around Insurance of Marijuana Act", "session": "1", "congress": "", "legisnum": "H. R. 4074", "billnumber": "116hr4074", "section_num": "2. ", "section_header": "Safe harbor for insurers and the business of insurance", "bill_number_version": "116hr4074ih"}], "116hr4596": [{"date": "2019-10-01", "score": 38.961124, "title": "116 HR 4596 IH: Student Loan Advocacy Act", "session": "1", "congress": "", "legisnum": "H. R. 4596", "billnumber": "116hr4596", "section_num": "2. ", "section_header": "Performance-based organization for delivery of Federal student financial assistance", "bill_number_version": "116hr4596ih"}], "116hr4627": [{"date": "2019-10-08", "score": 32.40668, "title": "116 HR 4627 IH: Student Borrower Advocate Act", "session": "1", "congress": "", "legisnum": "H. R. 4627", "billnumber": "116hr4627", "section_num": "2. ", "sectionIndex": "5", "section_header": "Performance-based organization for delivery of Federal student financial assistance", "bill_number_version": "116hr4627ih", "target_section_header": "Offices of the Consumer Financial Protection Bureau", "target_section_number": "6."}], "116hr4664": [{"date": "2019-10-11", "score": 65.107925, "title": "116 HR 4664 IH: Monitoring and Curbing Abusive Debt Collection Practices Act", "session": "1", "congress": "", "legisnum": "H. R. 4664", "billnumber": "116hr4664", "section_num": "2. ", "section_header": "Debt collection", "bill_number_version": "116hr4664ih"}], "116hr4823": [{"date": "2019-10-23", "score": 28.494617, "title": "116 HR 4823 IH: FEMA Climate Change Preparedness Act", "session": "1", "congress": "", "legisnum": "H. R. 4823", "billnumber": "116hr4823", "section_num": "6. ", "sectionIndex": "6", "section_header": "National Advisory Council Climate Change Subcommittee", "bill_number_version": "116hr4823ih", "target_section_header": "Consumer Advisory Board reforms", "target_section_number": "7."}], "116hr4966": [{"date": "2019-10-31", "score": 26.853678, "title": "116 HR 4966 IH: Greater Supervision In Banking Act of 2019", "session": "1", "congress": "", "legisnum": "H. R. 4966", "billnumber": "116hr4966", "section_num": "2. ", "sectionIndex": "15", "section_header": "Annual testimony of GSIB CEOs", "bill_number_version": "116hr4966ih", "target_section_header": "Report on senior consumers", "target_section_number": "16."}], "116hr5021": [{"date": "2019-11-08", "score": 59.98012, "title": "116 HR 5021 IH: Ending Debt Collection Harassment Act of 2019", "session": "1", "congress": "", "legisnum": "H. R. 5021", "billnumber": "116hr5021", "section_num": "2. ", "section_header": "Consumer protections relating to debt collection practices", "bill_number_version": "116hr5021ih"}], "116hr5050": [{"date": "2019-11-12", "score": 39.112923, "title": "116 HR 5050 IH: Veterans and Consumers Fair Credit Act", "session": "1", "congress": "", "legisnum": "H. R. 5050", "billnumber": "116hr5050", "section_num": "2. ", "section_header": "Limitations on consumer credit and maximum rates of interest", "bill_number_version": "116hr5050ih"}], "116hr5294": [{"date": "2019-12-04", "score": 48.453846, "title": "116 HR 5294 IH: Student Borrower Protections Act of 2019", "session": "1", "congress": "", "legisnum": "H. R. 5294", "billnumber": "116hr5294", "section_num": "3. ", "sectionIndex": "5", "section_header": "Standards for reporting student loan information to consumer reporting agencies", "bill_number_version": "116hr5294ih", "target_section_header": "Offices of the Consumer Financial Protection Bureau", "target_section_number": "6."}], "116hr5315": [{"date": "2019-12-05", "score": 27.532425, "title": "116 HR 5315 IH: Expanding Opportunity for Minority Depository Institutions (MDIs) Act", "session": "1", "congress": "", "legisnum": "H. R. 5315", "billnumber": "116hr5315", "section_num": "2. ", "sectionIndex": "1", "section_header": "Establishment of Financial Agent Mentor-Protégé Program", "bill_number_version": "116hr5315ih", "target_section_header": "Findings; sense of Congress", "target_section_number": "2."}], "116hr5513": [{"date": "2019-12-19", "score": 26.603827, "title": "116 HR 5513 IH: Affordable Safe Drinking Water Act of 2019", "session": "1", "congress": "", "legisnum": "H. R. 5513", "billnumber": "116hr5513", "section_num": "2. ", "sectionIndex": "16", "section_header": "State revolving funds", "bill_number_version": "116hr5513ih", "target_section_header": "Report on payday loan and car-title loan investigations and enforcement actions", "target_section_number": "17."}], "116hr6012": [{"date": "2020-02-27", "score": 35.81505, "title": "116 HR 6012 IH: Consumer Financial Education and Empowerment Act", "session": "2", "congress": "", "legisnum": "H. R. 6012", "billnumber": "116hr6012", "section_num": "2. ", "section_header": "Financial literacy grant program", "bill_number_version": "116hr6012ih"}], "116hr6116": [{"date": "2020-03-05", "score": 51.089783, "title": "116 HR 6116 IH: Consumer Financial Protection Commission Act", "session": "2", "congress": "", "legisnum": "H. R. 6116", "billnumber": "116hr6116", "section_num": "3. ", "sectionIndex": "2", "section_header": "Deeming of name", "bill_number_version": "116hr6116ih", "target_section_header": "Consumer Financial Protection Bureau", "target_section_number": "3."}, {"date": "2020-03-05", "score": 51.40465, "title": "116 HR 6116 IH: Consumer Financial Protection Commission Act", "session": "2", "congress": "", "legisnum": "H. R. 6116", "billnumber": "116hr6116", "section_num": "4. ", "sectionIndex": "3", "section_header": "Conforming amendments", "bill_number_version": "116hr6116ih", "target_section_header": "Conforming amendments", "target_section_number": "4."}], "116hr6157": [{"date": "2020-03-09", "score": 35.783783, "title": "116 HR 6157 IH: Transparency for Student Veterans Act", "session": "2", "congress": "", "legisnum": "H. R. 6157", "billnumber": "116hr6157", "section_num": "2. ", "sectionIndex": "4", "section_header": "Inclusion of certain student outcome information in GI Bill comparison tool of Department of Veterans Affairs", "bill_number_version": "116hr6157ih", "target_section_header": "Executive and administration powers", "target_section_number": "5."}], "116hr6227": [{"date": "2020-03-12", "score": 30.891678, "title": "116 HR 6227 IH: Privacy Score Act of 2020", "session": "2", "congress": "", "legisnum": "H. R. 6227", "billnumber": "116hr6227", "section_num": "2. ", "sectionIndex": "14", "section_header": "Privacy framework and scores", "bill_number_version": "116hr6227ih", "target_section_header": "Credit scores included in free annual disclosures", "target_section_number": "15."}], "116hr6419": [{"date": "2020-03-31", "score": 26.474958, "title": "116 HR 6419 IH: Senior Legal Hotline Act of 2020", "session": "2", "congress": "", "legisnum": "H. R. 6419", "billnumber": "116hr6419", "section_num": "2. ", "sectionIndex": "15", "section_header": "Statewide senior legal hotlines", "bill_number_version": "116hr6419ih", "target_section_header": "Report on senior consumers", "target_section_number": "16."}], "116hr6544": [{"date": "2020-04-17", "score": 26.886028, "title": "116 HR 6544 IH: Payday and Predatory Loans Moratorium Act of 2020", "session": "2", "congress": "", "legisnum": "H. R. 6544", "billnumber": "116hr6544", "section_num": "2. ", "sectionIndex": "16", "section_header": "Moratorium on collection efforts for certain borrowers affected by coronavirus", "bill_number_version": "116hr6544ih", "target_section_header": "Report on payday loan and car-title loan investigations and enforcement actions", "target_section_number": "17."}], "116hr6741": [{"date": "2020-05-08", "score": 31.526575, "title": "116 HR 6741 IH: COVID–19 Mortgage Relief Act", "session": "2", "congress": "", "legisnum": "H. R. 6741", "billnumber": "116hr6741", "section_num": "1. ", "sectionIndex": "3", "section_header": "Mortgage relief", "bill_number_version": "116hr6741ih", "target_section_header": "Conforming amendments", "target_section_number": "4."}], "116hr6835": [{"date": "2020-05-12", "score": 34.409008, "title": "116 HR 6835 IH: To require residential mortgage servicers receiving certain emergency relief under the CARES Act to provide reports on loan-level data, and for other purposes.", "session": "2", "congress": "", "legisnum": "H. R. 6835", "billnumber": "116hr6835", "section_num": "1. ", "section_header": "Mortgage performance data", "bill_number_version": "116hr6835ih"}], "116hr7171": [{"date": "2020-06-11", "score": 38.103077, "title": "116 HR 7171 IH: End Double Taxation of Successful Consumer Claims Act", "session": "2", "congress": "", "legisnum": "H. R. 7171", "billnumber": "116hr7171", "section_num": "2. ", "sectionIndex": "3", "section_header": "Above-the-line deduction for attorney fees and costs in connection with consumer claim awards", "bill_number_version": "116hr7171ih", "target_section_header": "Conforming amendments", "target_section_number": "4."}], "116hr7946": [{"date": "2020-08-04", "score": 32.43327, "title": "116 HR 7946 IH: Federal Reserve Racial and Economic Equity Act", "session": "2", "congress": "", "legisnum": "H. R. 7946", "billnumber": "116hr7946", "section_num": "2C. ", "sectionIndex": "1", "section_header": "Duty to minimize and eliminate racial disparities", "bill_number_version": "116hr7946ih", "target_section_header": "Findings; sense of Congress", "target_section_number": "2."}], "116hr8039": [{"date": "2020-08-14", "score": 29.766706, "title": "116 HR 8039 IH: Examining Educational Redlining in Lending Act", "session": "2", "congress": "", "legisnum": "H. R. 8039", "billnumber": "116hr8039", "section_num": "2. ", "sectionIndex": "2", "section_header": "Assessment of certain educational data", "bill_number_version": "116hr8039ih", "target_section_header": "Consumer Financial Protection Bureau", "target_section_number": "3."}], "116hr8241": [{"date": "2020-09-14", "score": 33.50722, "title": "116 HR 8241 IH: GAO Mandates Revision Act", "session": "2", "congress": "", "legisnum": "H. R. 8241", "billnumber": "116hr8241", "section_num": "2. ", "sectionIndex": "2", "section_header": "Audits modified", "bill_number_version": "116hr8241ih", "target_section_header": "Consumer Financial Protection Bureau", "target_section_number": "3."}], "116hr8532": [{"date": "2020-10-06", "score": 27.807856, "title": "116 HR 8532 IH: National Center for the Advancement of Aviation Act of 2020", "session": "2", "congress": "", "legisnum": "H. R. 8532", "billnumber": "116hr8532", "section_num": "2. ", "sectionIndex": "6", "section_header": "Federal Charter for the National Center for the Advancement of Aviation", "bill_number_version": "116hr8532ih", "target_section_header": "Consumer Advisory Board reforms", "target_section_number": "7."}], "116hr8914": [{"date": "2020-12-09", "score": 27.847712, "title": "116 HR 8914 IH: Risk Management for Derivatives Clearing Organizations Act", "session": "2", "congress": "", "legisnum": "H. R. 8914", "billnumber": "116hr8914", "section_num": "2. ", "sectionIndex": "1", "section_header": "Access to Federal reserve bank accounts and services", "bill_number_version": "116hr8914ih", "target_section_header": "Findings; sense of Congress", "target_section_number": "2."}], "116hres77": [{"date": "2019-01-25", "score": 27.043707, "title": "116 HRES 77 IH: Expressing the sense of Congress that financial institutions and other companies should work proactively with their customers affected by the shutdown of the Federal Government who may be facing short-term financial hardship and long-term damage to their creditworthiness through no fault of their own.", "session": "1", "congress": "", "legisnum": "H. RES. 77", "billnumber": "116hres77", "section_num": "", "sectionIndex": "16", "section_header": "", "bill_number_version": "116hres77ih", "target_section_header": "Report on payday loan and car-title loan investigations and enforcement actions", "target_section_number": "17."}], "117hr1486": [{"date": "2021-03-02", "score": 36.489025, "title": "117 HR 1486 IH: To repeal the Office of Financial Research, and for other purposes.", "session": "1", "congress": "", "legisnum": "H. R. 1486", "billnumber": "117hr1486", "section_num": "1. ", "section_header": "Repeal of the Office of Financial Research", "bill_number_version": "117hr1486ih"}], "117hr1657": [{"date": "2021-03-08", "score": 59.952576, "title": "117 HR 1657 IH: Ending Debt Collection Harassment Act of 2021", "session": "1", "congress": "", "legisnum": "H. R. 1657", "billnumber": "117hr1657", "section_num": "2. ", "section_header": "Consumer protections relating to debt collection practices", "bill_number_version": "117hr1657ih"}], "117hr1711": [{"date": "2021-03-09", "score": 40.76034, "title": "117 HR 1711 IH: Financial Inclusion in Banking Act of 2021", "session": "1", "congress": "", "legisnum": "H. R. 1711", "billnumber": "117hr1711", "section_num": "2. ", "sectionIndex": "4", "section_header": "Office of Community Affairs duties with respect to under-banked, un-banked, and underserved consumers", "bill_number_version": "117hr1711ih", "target_section_header": "Executive and administration powers", "target_section_number": "5."}], "117hr2959": [{"date": "2021-05-04", "score": 25.286716, "title": "117 HR 2959 IH: COVID–19 Fraud Prevention Act", "session": "1", "congress": "", "legisnum": "H. R. 2959", "billnumber": "117hr2959", "section_num": "2. ", "sectionIndex": "15", "section_header": "Consumer and Investor Fraud Working Group", "bill_number_version": "117hr2959ih", "target_section_header": "Report on senior consumers", "target_section_number": "16."}]i}
/*
func UpdateRelatedBillJson(billCongressTypeNumber string, relatedBillItems []RelatedBillItem, parentPath string) error {
	dataPath, _ := PathFromBillNumber(billCongressTypeNumber)

	dataPath = path.Join(parentPath, CongressDir, "data", strings.Replace(dataPath, "/text-versions", "", 1))
	if _, err := os.Stat(dataPath); os.IsNotExist(err) {
		return fmt.Errorf("error getting path for: %s\nErr: %s", billCongressTypeNumber, err)
	}
	log.Info().Msgf("Updating metadata with similarity to file for: %s; %s\n", billCongressTypeNumber, dataPath)
	defer func() {
		log.Info().Msgf("Finished updating metadata with similarity for: %s\n", billCongressTypeNumber)
	}()

	//TODO open the json file, get the current related bills, and update the related bills list
	file, err := os.ReadFile(billPath)
	defer func() {
		log.Info().Msgf("Finished processing: %s\n", billCongressTypeNumber)
		<-sem
	}()
	if err != nil {
		log.Error().Msgf("Error reading data.json: %s", err)
		return err
	}

	var billMeta BillMeta
	var dat DataJson
	_ = json.Unmarshal([]byte(file), &dat)

	file, marshalErr := json.MarshalIndent(billMetaItem, "", " ")
	writeErr := ioutil.WriteFile(path.Join(dataPath, "billMeta.json"), file, 0644)

	if writeErr != nil {
		return fmt.Errorf("error writing metadata for: %s\nErr: %s", billCongressTypeNumber, writeErr)
	}

	return nil

}
*/

// Saves bill metadata to billMeta.json
func SaveBillJson(billCongressTypeNumber string, billMetaItem BillMeta, parentPath string) error {

	file, marshalErr := json.MarshalIndent(billMetaItem, "", " ")
	if marshalErr != nil {
		return fmt.Errorf("error marshalling metadata for: %s\nErr: %s", billCongressTypeNumber, marshalErr)
	}
	SaveBillDataJson(billCongressTypeNumber, file, parentPath, "billMeta.json")
	return nil
}

// Saves bill metadata to db (badger or bolt) via bh
func SaveBillJsonToDB(billCongressTypeNumber string, billMetaItem BillMeta) error {
	var options = bh.DefaultOptions
	options.Dir = "data"
	options.ValueDir = "data"

	store, err := bh.Open(options)
	if err != nil {
		// handle error
		log.Fatal().Err(err)
	}
	defer store.Close()

	return store.Insert(billCongressTypeNumber, billMetaItem)
}

//similarSectionsStorageChannel := make(chan bills.SimilarSectionsItems)
//similarBillsDictStorageChannel := make(chan map[string]bills.SimilarSections)
//compareMatrixStorageChannel := make(chan [][]bills.CompareItem)

// TODO update billJSON with similarity information
// TODO update billJSON with title information?

// Saves Data in JSON to bill directory
func SaveBillDataJson(billCongressTypeNumber string, dataJson []byte, parentPath string, fileName string) error {

	dataPath, _ := PathFromBillNumber(billCongressTypeNumber)

	dataPath = path.Join(parentPath, CongressDir, "data", strings.Replace(dataPath, "/text-versions", "", 1))
	if _, err := os.Stat(dataPath); os.IsNotExist(err) {
		return fmt.Errorf("error getting path for: %s\nErr: %s", billCongressTypeNumber, err)
	}
	savePath := path.Join(dataPath, fileName)
	log.Info().Msgf("Saving data to: %s\n", savePath)
	defer func() {
		log.Info().Msgf("Finished saving data for: %s; \n", billCongressTypeNumber)
	}()
	writeErr := ioutil.WriteFile(savePath, dataJson, 0644)

	if writeErr != nil {
		return fmt.Errorf("error writing data to: %s\nErr: %s", savePath, writeErr)
	}

	return nil
}
